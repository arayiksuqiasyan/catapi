(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{26:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),s=a.n(r),i=(a(26),a(5)),o=a(16),l=a(13),u=Object(l.b)({name:"cats",initialState:{cats:[],catsImage:[],catsTypes:[],page:1,categoryId:null,loading:!1,errorMessage:null},reducers:{getCatsHandler:function(e,t){e.cats=t.payload},getCatsImageHandler:function(e,t){e.catsImage=t.payload.map((function(e){return{id:e.id,url:e.url,categories:e.categories||[]}}))},changeCatsHandler:function(e,t){1===t.payload.page?e.catsTypes=t.payload.data:e.catsTypes=[].concat(Object(o.a)(e.catsTypes),Object(o.a)(t.payload.data))},setLoading:function(e,t){e.loading=t.payload},changePage:function(e,t){e.page=t.payload},changeCategoryId:function(e,t){e.page=1,e.categoryId=t.payload},setErrorMessage:function(e,t){e.errorMessage=t.payload}}}),d=u.actions,g=d.changePage,j=d.setLoading,p=d.getCatsHandler,h=d.setErrorMessage,f=d.changeCategoryId,b=d.changeCatsHandler,y=(d.getCatsImageHandler,u.reducer),O=a(2);var m=function(e){var t=e.type;return Object(O.jsx)("li",{className:"item-cat",children:Object(O.jsx)("img",{src:t.url,alt:"#",style:{width:"100%",height:"100%"}})})};var v=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.cats})),a=t.page,n=t.loading,c=t.catsTypes;return Object(O.jsx)("div",{className:"".concat(n?"loading":""),children:Object(O.jsx)("ul",{className:"card-container",onScroll:function(t){var c=t.nativeEvent.target;c.scrollTop+c.clientHeight+500>=c.scrollHeight&&(n||e(g(a+1)))},children:c.map((function(e){return Object(O.jsx)(m,{type:e},e.id)}))})})},x=a(46);var C=function(e){var t=e.cat,a=e.changeCatsTypes;return Object(O.jsx)("li",{className:"navigation-li",onClick:function(){return a(t.id)},children:t.name})},I=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.cats})),a=t.cats,c=t.page,r=t.loading,s=t.categoryId,o=t.errorMessage;Object(n.useEffect)((function(){r||e(function(e,t){return function(a){var n="https://api.thecatapi.com/v1/images/search?limit=20";return t&&(n+="&page=".concat(t)),e&&(n+="&category_ids=".concat(e)),a(j(!0)),fetch(n).then((function(e){return e.json()})).then((function(e){return a(j(!1)),a(h(null)),a(b({data:e,page:t}))})).catch((function(e){a(h(e.message)),a(j(!1))}))}}(s,c))}),[c,s]);var l=function(t){r||e(f(t))};return Object(O.jsxs)("ul",{className:"navigation-app",children:[Object(O.jsx)("h1",{children:"Categories"}),Object(O.jsx)(x.a,{variant:"contained",onClick:function(){r||e(g(c+1))},children:"Load More"}),Object(O.jsx)("div",{className:"types-container",children:a.map((function(e){return Object(O.jsx)(C,{cat:e,changeCatsTypes:l},e.id)}))}),Object(O.jsx)("hr",{}),o&&Object(O.jsx)("p",{style:{color:"red"},children:o})]})};var T=function(){var e=Object(i.b)();return Object(n.useEffect)((function(){e((function(e){return fetch("https://api.thecatapi.com/v1/categories").then((function(e){return e.json()})).then((function(t){return e(p(t))}))}))}),[e]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(I,{}),Object(O.jsx)(v,{})]})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},M=Object(l.a)({reducer:{cats:y}});s.a.render(Object(O.jsx)(i.a,{store:M,children:Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(T,{})})}),document.getElementById("root")),H()}},[[31,1,2]]]);
//# sourceMappingURL=main.e27f0f19.chunk.js.map